spring.application.name=edutrack

##==============H2 Database Configuration=================
#spring.datasource.url=jdbc:h2:mem:edutrackdb
#spring.datasource.driverClassName=org.h2.Driver
#spring.datasource.username=sa
#spring.datasource.password=
#
##==============H2 Console Configuration=================
#spring.h2.console.enabled=true
#spring.h2.console.path=/h2-console

#==============MySQL Database Configuration=================
spring.datasource.url=jdbc:mysql://localhost:3306/edutrack?serverTimezone=Asia/Seoul&characterEncoding=UTF-8
spring.datasource.username=edutrack
spring.datasource.password=edutrack_pw
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

#==============JPA Configuration=================
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect
# 개발 환경: update (테이블 자동 생성/수정)
# 프로덕션 환경: validate (스키마 검증만)
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true


#==============JWT Configuration=================
jwt.secret=edutrack-super-secret-key-should-be-long-1234567890
jwt.access-expire-ms=3600000
jwt.refresh-expire-ms=1209600000

# ?? username, password ?? ??
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.ssl.enable=false
spring.mail.properties.mail.smtp.starttls.enable=true

cloud.aws.credentials.access-key=${AWS_ACCESS_KEY}
cloud.aws.credentials.secret-key=${AWS_SECRET_KEY}
cloud.aws.region.static=ap-northeast-2
cloud.aws.s3.bucket=edutrack-bucket

# Redis
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.repositories.enabled=true

#==============Swagger UI / SpringDoc OpenAPI Configuration=================
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha

# SQL 초기화 스크립트 활성화 (JPA 실행 후 data.sql 자동 실행)
# schema.sql은 H2용이므로 비활성화 (JPA가 테이블 생성)
spring.sql.init.mode=always
spring.sql.init.schema-locations=
spring.jpa.defer-datasource-initialization=true